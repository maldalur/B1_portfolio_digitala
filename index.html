<!DOCTYPE html>
<html lang="eu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarrera - B1 Portfolio Digitala</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“ Nire Portfolio Digitala</h1>
            <p>B1 Gaitasun Digitalen Akreditazioa - 2025/2026</p>
            <p><strong>Mikel Aldalur</strong></p>
        </header>
        
        <nav class="main-nav">
            <a href="index.html" class="active">ğŸ“‹ Sarrera</a>
            <a href="bidalketa1.html">ğŸ“¦ B1.1 Lehen Bidalketa</a>
            <a href="bidalketa2.html">ğŸ“¦ B1.2 Bigarren Bidalketa</a>
            <a href="bidalketa3.html">ğŸ“¦ B1.3 Hirugarren Bidalketa</a>
        </nav>
        
        <!-- IRAKURKETA MODUA / MODO LECTURA POR VOZ -->
        <div id="audioReaderPanel" style="position: fixed; bottom: 20px; left: 20px; z-index: 1000; background: white; border-radius: 15px; padding: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); display: none;">
            <div style="margin-bottom: 10px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold; color: #667eea;">ğŸŒ Hizkuntza / Idioma:</label>
                <select id="languageSelect" onchange="changeLanguage()" style="width: 100%; padding: 8px; border: 2px solid #667eea; border-radius: 8px; font-size: 14px; cursor: pointer;">
                    <option value="es-ES">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                    <option value="eu-ES">ğŸ‡ªğŸ‡º Euskara</option>
                    <option value="en-US">ğŸ‡¬ğŸ‡§ English</option>
                    <option value="fr-FR">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                </select>
            </div>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button id="playPauseBtn" onclick="togglePlayPause()" 
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                               color: white; 
                               border: none; 
                               border-radius: 10px; 
                               padding: 10px 20px; 
                               font-size: 20px; 
                               cursor: pointer; 
                               box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                               transition: all 0.3s ease;">
                    â–¶ï¸ Play
                </button>
                <button onclick="closeAudioPanel()" 
                        style="background: #dc3545; 
                               color: white; 
                               border: none; 
                               border-radius: 10px; 
                               padding: 10px 20px; 
                               font-size: 14px; 
                               cursor: pointer; 
                               box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                               transition: all 0.3s ease;">
                    âŒ Itxi
                </button>
            </div>
        </div>
        
        <!-- BotÃ³n flotante para abrir el panel -->
        <div style="position: fixed; bottom: 20px; left: 20px; z-index: 999;">
            <button id="audioReaderBtn" onclick="openAudioPanel()" 
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                           color: white; 
                           border: none; 
                           border-radius: 50%; 
                           width: 60px; 
                           height: 60px; 
                           font-size: 24px; 
                           cursor: pointer; 
                           box-shadow: 0 4px 10px rgba(0,0,0,0.3);
                           transition: all 0.3s ease;">
                ğŸ”Š
            </button>
        </div>
        
        <div class="content">
            <section>
                <h2>ğŸ“‹ Ongi Etorri Nire Portfolio Digitalera! ğŸ‘‹</h2>
                
                <div class="task-card">
                    <p style="font-size: 1.1em;">
                        Portfolio honetan <strong>B1 mailako gaitasun digitalaren akreditaziorako</strong> bi bidalketa aurkezten ditut, hainbat tresna eta teknika digitalak erabiliz.
                    </p>
                </div>
                
                <div class="bidalketa-card" style="background: #e8f5e9;">
                    <h3 style="color: #2e7d32;">ğŸ“¦ Lehen Bidalketa (B1.1)</h3>
                    <p style="margin-bottom: 15px; color: #666;">Irakasle taldearen komunikazio eta elkarlana digitalak</p>
                    
                    <div class="ataza-grid">
                        <div class="ataza-box" style="border-color: #4caf50;">
                            <div class="emoji">ğŸ’¬</div>
                            <h4>1.A Komunikazioa</h4>
                            <p>Tresna digitalak komunikaziorako</p>
                        </div>
                        
                        <div class="ataza-box" style="border-color: #66bb6a;">
                            <div class="emoji">ğŸ¤</div>
                            <h4>1.B Elkarlana</h4>
                            <p>Tresna digitalak elkarlanerako</p>
                        </div>
                        
                        <div class="ataza-box" style="border-color: #81c784;">
                            <div class="emoji">ğŸ“œ</div>
                            <h4>1.C Netiketa</h4>
                            <p>Netiketa arauak</p>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 25px;">
                        <a href="bidalketa1.html" style="display: inline-block; padding: 15px 40px; background: #4caf50; color: white; text-decoration: none; border-radius: 10px; font-weight: bold; font-size: 1.1em; box-shadow: 0 4px 10px rgba(76,175,80,0.3); transition: all 0.3s;">
                            ğŸ“– Ikusi Lehen Bidalketa Osoa â†’
                        </a>
                    </div>
                    
                    <div class="video-section" style="margin-top: 30px; padding: 20px; background: white; border-radius: 10px;">
                        <h4 style="color: #2e7d32; margin-bottom: 15px;">ğŸ¥ Azalpen Bideoa - Lehen Bidalketa</h4>
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 800px; margin: 0 auto;">
                            <iframe 
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);"
                                src="https://www.youtube.com/embed/udDRDfqSZZE?cc_load_policy=1&hl=eu" 
                                title="Portfolio Digital B1 - Lehen Bidalketa" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                allowfullscreen>
                            </iframe>
                        </div>
                        <div style="margin-top: 10px; padding: 10px; background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 4px;">
                            <p style="margin: 0; color: #2e7d32; font-size: 0.9em;">
                                â™¿ <strong>Irisgarritasuna:</strong> Bideoak azpitituluak ditu (CC).
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="bidalketa-card" style="background: #e3f2fd; margin-top: 30px;">
                    <h3 style="color: #1565c0;">ğŸ“¦ Bigarren Bidalketa (B1.2)</h3>
                    <p style="margin-bottom: 10px;"><strong>Gaia:</strong> Adimen Artifiziala - Ikusmeneko Sistemak (Computer Vision)</p>
                    <p style="margin-bottom: 15px; color: #666;">Ezagutza mailaren araberako eduki digitalen ebidentziatzea</p>
                    
                    <div class="ataza-grid">
                        <div class="ataza-box" style="border-color: #42a5f5;">
                            <div class="emoji">ğŸ“</div>
                            <h4>4.A Aurre-Ebaluazioa</h4>
                            <p>Google Forms + Dinamika</p>
                        </div>
                        
                        <div class="ataza-box" style="border-color: #64b5f6;">
                            <div class="emoji">ğŸ“š</div>
                            <h4>2.A Oinarrizko Edukia</h4>
                            <p>Prezentazio interaktiboa</p>
                        </div>
                        
                        <div class="ataza-box" style="border-color: #90caf9;">
                            <div class="emoji">ğŸš€</div>
                            <h4>2.B Eduki Aurreratua</h4>
                            <p>Jupyter Notebooks + GitHub</p>
                        </div>
                    </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4 style="color: #1565c0; margin-bottom: 15px;">ğŸ“Š PowerPoint Aurkezpena</h4>
                        <p style="color: #666; margin-bottom: 15px;">Deep Computer Vision - 12 diapositiba</p>
                        <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                            <a href="https://docs.google.com/presentation/d/1mWXg933T77FoVqETz7BqCbqY_9r3HJeA/edit?usp=sharing&ouid=115862801143979037014&rtpof=true&sd=true" 
                               target="_blank"
                               style="display: inline-block; padding: 10px 20px; background: #0277bd; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
                                ğŸ“Š Ikusi Google Drive-n
                            </a>
                            <a href="Deep_Computer_Vision_Proiektuak/Deep_Computer_Vision_Aurkezpena.pptx" 
                               download
                               style="display: inline-block; padding: 10px 20px; background: #4caf50; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">
                                ğŸ“¥ Deskargatu PPT
                            </a>
                        </div>
                    </div>
                    
                    <div style="background: #e1f5fe; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4 style="color: #0277bd; margin-bottom: 10px;">ğŸ¥ Bideo Azalpena</h4>
                        <p style="color: #666; margin-bottom: 15px;">
                            Bigarren bidalketaren eduki guztiak (2.A eta 2.B) azaltzen ditut
                        </p>
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 700px; margin: 0 auto;">
                            <iframe 
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);"
                                src="https://www.youtube.com/embed/tGlLE_YwyNQ?cc_load_policy=1&hl=eu" 
                                title="Portfolio Digital B1 - Bigarren Bidalketa" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                allowfullscreen>
                            </iframe>
                        </div>
                        <div style="margin-top: 10px; padding: 10px; background: #e8f5e9; border-left: 4px solid #4caf50; border-radius: 4px;">
                            <p style="margin: 0; color: #2e7d32; font-size: 0.9em;">
                                â™¿ <strong>Irisgarritasuna:</strong> Bideoak azpitituluak ditu (CC).
                            </p>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 25px;">
                        <a href="bidalketa2.html" style="display: inline-block; padding: 15px 40px; background: #1976d2; color: white; text-decoration: none; border-radius: 10px; font-weight: bold; font-size: 1.1em; box-shadow: 0 4px 10px rgba(25,118,210,0.3); transition: all 0.3s;">
                            ğŸ“– Ikusi Bigarren Bidalketa Osoa â†’
                        </a>
                    </div>
                </div>
                
                <div class="task-card" style="margin-top: 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    <h3 style="color: white;">ğŸ¯ Helburua</h3>
                    <p style="font-size: 1.05em;">
                        Portfolio honek irakaslearen gaitasun digitalak erakusten ditu, tresna desberdinak erabiliz eta eduki digitalak sortuz ezagutza maila desberdinek ikasteko.
                    </p>
                </div>
            </section>
        </div>
        
        <footer>
            <p><strong>Mikel Aldalur</strong></p>
            <p>Irakaslearen Gaitasun Digitalen Akreditazioa - B1 Maila</p>
            <p>FPIkaskuntzagunea - 2025/2026</p>
            <p style="margin-top: 15px;">
                ğŸŒ <a href="https://maldalur.github.io/B1_portfolio_digitala/" target="_blank" style="color: #64b5f6; text-decoration: none; font-weight: bold;">Portfolio Online</a>
            </p>
        </footer>
    </div>

    <!-- BotÃ³n de Accesibilidad -->
    <button class="accessibility-button" id="accessibilityBtn" aria-label="Irisgarritasun aukerak">
        â™¿
    </button>

    <!-- MenÃº de Accesibilidad -->
    <div class="accessibility-menu" id="accessibilityMenu">
        <h3>â™¿ Irisgarritasuna</h3>
        
        <div class="accessibility-option">
            <label for="readingMode">ğŸ“– Irakurketa modua</label>
            <input type="checkbox" id="readingMode">
        </div>
        
        <div class="accessibility-option">
            <label for="highContrast">ğŸ¨ Kontraste altua</label>
            <input type="checkbox" id="highContrast">
        </div>
        
        <div class="accessibility-option">
            <label for="largeText">ğŸ”¤ Testu handia</label>
            <input type="checkbox" id="largeText">
        </div>
        
        <div class="accessibility-option">
            <label for="wideSpacing">ğŸ“ Tarteak zabaldu</label>
            <input type="checkbox" id="wideSpacing">
        </div>
    </div>

    <script>
        // Control del menÃº de accesibilidad
        const accessibilityBtn = document.getElementById('accessibilityBtn');
        const accessibilityMenu = document.getElementById('accessibilityMenu');

        accessibilityBtn.addEventListener('click', () => {
            accessibilityMenu.classList.toggle('active');
        });

        // Cerrar el menÃº si se hace clic fuera
        document.addEventListener('click', (e) => {
            if (!accessibilityBtn.contains(e.target) && !accessibilityMenu.contains(e.target)) {
                accessibilityMenu.classList.remove('active');
            }
        });

        // Modo de lectura
        document.getElementById('readingMode').addEventListener('change', function() {
            document.body.classList.toggle('reading-mode', this.checked);
            localStorage.setItem('readingMode', this.checked);
        });

        // Alto contraste
        document.getElementById('highContrast').addEventListener('change', function() {
            document.body.classList.toggle('high-contrast', this.checked);
            localStorage.setItem('highContrast', this.checked);
        });

        // Texto grande
        document.getElementById('largeText').addEventListener('change', function() {
            document.body.classList.toggle('large-text', this.checked);
            localStorage.setItem('largeText', this.checked);
        });

        // Espaciado amplio
        document.getElementById('wideSpacing').addEventListener('change', function() {
            document.body.classList.toggle('wide-spacing', this.checked);
            localStorage.setItem('wideSpacing', this.checked);
        });

        // Restaurar preferencias guardadas
        window.addEventListener('load', () => {
            if (localStorage.getItem('readingMode') === 'true') {
                document.getElementById('readingMode').checked = true;
                document.body.classList.add('reading-mode');
            }
            if (localStorage.getItem('highContrast') === 'true') {
                document.getElementById('highContrast').checked = true;
                document.body.classList.add('high-contrast');
            }
            if (localStorage.getItem('largeText') === 'true') {
                document.getElementById('largeText').checked = true;
                document.body.classList.add('large-text');
            }
            if (localStorage.getItem('wideSpacing') === 'true') {
                document.getElementById('wideSpacing').checked = true;
                document.body.classList.add('wide-spacing');
            }
        });
    </script>
    
    <!-- AUDIO READER SCRIPT / IRAKURKETA AUDIO SCRIPT -->
    <script>
        let isReading = false;
        let isPaused = false;
        let utterance = null;
        let currentIndex = 0;
        let contentElements = [];
        let availableVoices = [];
        let selectedLanguage = 'es-ES'; // Por defecto espaÃ±ol
        
        // Cargar voces disponibles
        function loadVoices() {
            availableVoices = window.speechSynthesis.getVoices();
            console.log('Voces disponibles:', availableVoices.map(v => v.lang + ' - ' + v.name));
            
            // Actualizar opciones del selector basadas en voces disponibles
            updateLanguageOptions();
        }
        
        // Actualizar opciones de idioma disponibles
        function updateLanguageOptions() {
            const select = document.getElementById('languageSelect');
            const hasBasque = availableVoices.some(v => v.lang.startsWith('eu'));
            const hasEnglish = availableVoices.some(v => v.lang.startsWith('en'));
            const hasFrench = availableVoices.some(v => v.lang.startsWith('fr'));
            
            // Deshabilitar opciones no disponibles
            Array.from(select.options).forEach(option => {
                const lang = option.value.substring(0, 2);
                if (lang === 'eu' && !hasBasque) {
                    option.disabled = true;
                    option.text += ' (Ez dago erabilgarri)';
                }
            });
        }
        
        // Cargar voces al inicio
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = loadVoices;
        }
        loadVoices();
        
        // Abrir panel de audio
        function openAudioPanel() {
            document.getElementById('audioReaderPanel').style.display = 'block';
            document.getElementById('audioReaderBtn').style.display = 'none';
        }
        
        // Cerrar panel de audio
        function closeAudioPanel() {
            stopAudioReader();
            document.getElementById('audioReaderPanel').style.display = 'none';
            document.getElementById('audioReaderBtn').style.display = 'block';
        }
        
        // Cambiar idioma
        function changeLanguage() {
            selectedLanguage = document.getElementById('languageSelect').value;
            console.log('Idioma seleccionado:', selectedLanguage);
            
            // Si estÃ¡ leyendo, reiniciar con el nuevo idioma
            if (isReading) {
                stopAudioReader();
                setTimeout(startAudioReader, 100);
            }
        }
        
        // Toggle Play/Pause
        function togglePlayPause() {
            const btn = document.getElementById('playPauseBtn');
            
            if (!isReading) {
                // Iniciar lectura
                startAudioReader();
                btn.textContent = 'â¸ï¸ Pause';
                btn.style.background = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
                isReading = true;
                isPaused = false;
            } else if (isPaused) {
                // Reanudar
                window.speechSynthesis.resume();
                btn.textContent = 'â¸ï¸ Pause';
                isPaused = false;
            } else {
                // Pausar
                window.speechSynthesis.pause();
                btn.textContent = 'â–¶ï¸ Play';
                isPaused = true;
            }
        }
        
        function startAudioReader() {
            // Asegurarse de que las voces estÃ©n cargadas
            if (availableVoices.length === 0) {
                loadVoices();
            }
            
            // Lortu eduki guztiak / Obtener todo el contenido
            const content = document.querySelector('.content');
            contentElements = Array.from(content.querySelectorAll('h2, h3, h4, p, li'))
                .filter(el => {
                    // Filtratu elementu hutsak eta irudiak / Filtrar elementos vacÃ­os e imÃ¡genes
                    const text = el.textContent.trim();
                    return text.length > 0 && !el.querySelector('img') && !el.classList.contains('badge');
                });
            
            currentIndex = 0;
            readNextElement();
        }
        
        function readNextElement() {
            if (currentIndex >= contentElements.length || !isReading) {
                stopAudioReader();
                return;
            }
            
            const element = contentElements[currentIndex];
            const text = element.textContent.trim();
            
            // Nabarmendu irakurtzen ari den elementua / Resaltar elemento que se estÃ¡ leyendo
            element.style.backgroundColor = '#fff3cd';
            element.style.transition = 'background-color 0.3s';
            
            // Sortu utterance / Crear utterance
            utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = selectedLanguage;
            utterance.rate = 0.85; // Abiadura / Velocidad (mÃ¡s lento para mejor comprensiÃ³n)
            utterance.pitch = 1;
            utterance.volume = 1;
            
            // Intentar usar la mejor voz disponible
            const voice = availableVoices.find(v => v.lang === selectedLanguage) || 
                         availableVoices.find(v => v.lang.startsWith(selectedLanguage.substring(0, 2))) ||
                         availableVoices[0];
            if (voice) {
                utterance.voice = voice;
            }
            
            // Amaiera kudeatzea / Manejar finalizaciÃ³n
            utterance.onend = function() {
                element.style.backgroundColor = '';
                currentIndex++;
                setTimeout(readNextElement, 100); // PequeÃ±a pausa entre elementos
            };
            
            // Errorea kudeatzea / Manejar error
            utterance.onerror = function(event) {
                console.error('Speech synthesis error:', event);
                element.style.backgroundColor = '';
                currentIndex++;
                readNextElement();
            };
            
            // Hasi irakurketa / Iniciar lectura
            window.speechSynthesis.speak(utterance);
        }
        
        function stopAudioReader() {
            window.speechSynthesis.cancel();
            isReading = false;
            isPaused = false;
            currentIndex = 0;
            
            // Kendu nabarmentze guztiak / Quitar todos los resaltados
            contentElements.forEach(el => {
                if (el && el.style) {
                    el.style.backgroundColor = '';
                }
            });
            
            const btn = document.getElementById('playPauseBtn');
            if (btn) {
                btn.textContent = 'â–¶ï¸ Play';
                btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            }
        }
        
        // Gelditu irakurketa orria itxi aurretik / Detener lectura antes de cerrar la pÃ¡gina
        window.addEventListener('beforeunload', function() {
            stopAudioReader();
        });
    </script>
</body>
</html>
